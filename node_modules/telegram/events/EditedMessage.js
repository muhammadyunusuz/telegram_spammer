"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.EditedMessageEvent = exports.EditedMessage = void 0;
const tl_1 = require("../tl");
const NewMessage_1 = require("./NewMessage");
/**
 * Occurs whenever a text message or a message with media was edited.
 * @example
 * ```ts
 * async function editedEventPrint(event: EditedMessageEvent) {
 *   const message = event.message as Api.Message;
 *
 *   console.log(`Message ${message.id} from channel ${message.chatId!.toString();} was edited at ${message.editDate}`)
 * }
 * // adds an event handler for edited messages
 * client.addEventHandler(editedEventPrint, new EditedMessage({}));
 * ```
 */
class EditedMessage extends NewMessage_1.NewMessage {
    constructor(editedMessageParams) {
        super(editedMessageParams);
    }
    build(update, callback, selfId) {
        if (update instanceof tl_1.Api.UpdateEditChannelMessage ||
            update instanceof tl_1.Api.UpdateEditMessage) {
            if (!(update.message instanceof tl_1.Api.Message)) {
                return undefined;
            }
            const event = new EditedMessageEvent(update.message, update);
            this.addAttributes(event);
            return event;
        }
    }
}
exports.EditedMessage = EditedMessage;
class EditedMessageEvent extends NewMessage_1.NewMessageEvent {
    constructor(message, originalUpdate) {
        super(message, originalUpdate);
    }
}
exports.EditedMessageEvent = EditedMessageEvent;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRWRpdGVkTWVzc2FnZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL2dyYW1qcy9ldmVudHMvRWRpdGVkTWVzc2FnZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFBQSw4QkFBNEI7QUFDNUIsNkNBQWdGO0FBTWhGOzs7Ozs7Ozs7Ozs7R0FZRztBQUNILE1BQWEsYUFBYyxTQUFRLHVCQUFVO0lBR3pDLFlBQVksbUJBQTJDO1FBQ25ELEtBQUssQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDO0lBQy9CLENBQUM7SUFFRCxLQUFLLENBQ0QsTUFBd0MsRUFDeEMsUUFBbUIsRUFDbkIsTUFBeUI7UUFFekIsSUFDSSxNQUFNLFlBQVksUUFBRyxDQUFDLHdCQUF3QjtZQUM5QyxNQUFNLFlBQVksUUFBRyxDQUFDLGlCQUFpQixFQUN6QztZQUNFLElBQUksQ0FBQyxDQUFDLE1BQU0sQ0FBQyxPQUFPLFlBQVksUUFBRyxDQUFDLE9BQU8sQ0FBQyxFQUFFO2dCQUMxQyxPQUFPLFNBQVMsQ0FBQzthQUNwQjtZQUNELE1BQU0sS0FBSyxHQUFHLElBQUksa0JBQWtCLENBQUMsTUFBTSxDQUFDLE9BQU8sRUFBRSxNQUFNLENBQUMsQ0FBQztZQUM3RCxJQUFJLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQzFCLE9BQU8sS0FBSyxDQUFDO1NBQ2hCO0lBQ0wsQ0FBQztDQUNKO0FBeEJELHNDQXdCQztBQUVELE1BQWEsa0JBQW1CLFNBQVEsNEJBQWU7SUFDbkQsWUFDSSxPQUFvQixFQUNwQixjQUFnRDtRQUVoRCxLQUFLLENBQUMsT0FBTyxFQUFFLGNBQWMsQ0FBQyxDQUFDO0lBQ25DLENBQUM7Q0FDSjtBQVBELGdEQU9DIn0=